<html>
  <!DOCTYPE html>
  <style>

    }
  </style>
  <script>
    
    function leggiFile(input) {
      let file = input.files[0]; 
      let lettoreFile = new FileReader(); 
      lettoreFile.readAsText(file);

      lettoreFile.onload = function () {
        let informazioni = lettoreFile.result; 
        creaTab(informazioni); 
      };
    }

    function creaTab(tab) {
      let tabella = document.createElement("table");
      let newRighe;
      let arrayT = tab.split("\n");
      
      let colonne;

      for (let riga = 0; riga < arrayT.length; riga++) {
        newRighe = document.createElement("tr");
        Ncolonne = arrayT[riga].split(",");
        for (let colonna = 0; colonna < Ncolonne.length; colonna++) {
          let contenuto = document.createElement("td");
          contenuto.textContent = Ncolonne[colonna];
          newRighe.appendChild(contenuto);
        }
        tabella.appendChild(newRighe);
      }

      let outputDiv = document.getElementById("output");
      outputDiv.innerHTML = "";
      outputDiv.appendChild(tabella);
    }
  </script>

  <body>
    <h1>Tabella Migranti</h1>
    <input type="file" onchange="leggiFile(this)" />

    <div id="output" class="output"></div>
  </body>
</html>
