<!DOCTYPE html> <!-- Dichiara il tipo di documento come HTML5 -->
<html lang="it"> <!-- Inizio del documento HTML, specificando che la lingua è italiana -->

<head>
    <meta charset="UTF-8"> <!-- Imposta la codifica dei caratteri a UTF-8, per supportare caratteri speciali -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Rende la pagina responsive, adatta per dispositivi mobili -->
    <title>Registrazione - SYNTH-ETIZZATI</title> <!-- Titolo della pagina visualizzato nel browser -->

    <!-- Importa il font Orbitron da Google Fonts per uno stile futuristico -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* Stile generale per il corpo della pagina */
        body {
            font-family: 'Orbitron', sans-serif; /* Usa il font Orbitron */
            background-color: #121212; /* Sfondo scuro per l'atmosfera futuristica */
            color: #fff; /* Colore del testo bianco */
            margin: 0; /* Rimuove margini predefiniti */
            padding: 0; /* Rimuove padding predefiniti */
            display: flex; /* Usa Flexbox per disporre gli elementi */
            justify-content: center; /* Centra il contenuto orizzontalmente */
            align-items: center; /* Centra il contenuto verticalmente */
            height: 100vh; /* Occupare tutta l'altezza della finestra */
        }

        /* Contenitore principale per il modulo */
        .container {
            background-color: #222222; /* Sfondo grigio scuro per il modulo */
            padding: 40px; /* Aggiunge spazio interno */
            border-radius: 10px; /* Angoli arrotondati */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Aggiunge ombra al contenitore */
            width: 100%; /* Occupazione intera larghezza */
            max-width: 400px; /* Larghezza massima di 400px */
            text-align: center; /* Centra il testo all'interno del contenitore */
            border: 2px solid #00cfcf; /* Bordo verde acqua attorno al modulo */
        }

        /* Stile per il titolo */
        h1 {
            color: #00cfcf; /* Colore verde acqua per il titolo */
            margin-bottom: 20px; /* Spazio sotto il titolo */
        }

        /* Stile per le etichette dei campi */
        label {
            display: block; /* Le etichette sono a blocco, una sotto l'altra */
            margin: 15px 0 5px; /* Spazio sopra e sotto l'etichetta */
            font-size: 16px; /* Dimensione del testo per le etichette */
            color: #fff; /* Colore bianco per il testo */
            text-align: center; /* Centra il testo dell'etichetta */
        }

        /* Stile per gli input del modulo */
        input {
            width: 100%; /* L'input occupa tutta la larghezza disponibile */
            padding: 12px; /* Spaziatura interna */
            margin-bottom: 20px; /* Spazio sotto ogni campo */
            border: 2px solid #00cfcf; /* Bordo verde acqua */
            border-radius: 5px; /* Angoli arrotondati */
            background-color: #333; /* Sfondo grigio scuro per l'input */
            color: #fff; /* Colore del testo bianco */
            font-size: 16px; /* Dimensione del font */
        }

        /* Stile per l'input quando è in focus (quando ci clicchi sopra) */
        input:focus {
            border-color: #00e0e0; /* Cambia il colore del bordo quando l'input è attivo */
            outline: none; /* Rimuove il bordo blu predefinito di focus */
        }

        /* Stile per il bottone di invio */
        button {
            width: 100%; /* Larghezza completa del bottone */
            padding: 12px; /* Spaziatura interna */
            background-color: #00cfcf; /* Colore di sfondo verde acqua */
            color: #fff; /* Colore del testo bianco */
            font-size: 18px; /* Dimensione del font */
            border: none; /* Rimuove il bordo predefinito */
            border-radius: 5px; /* Angoli arrotondati */
            cursor: pointer; /* Mostra un cursore a mano */
            transition: background-color 0.3s; /* Transizione dolce del colore al passaggio del mouse */
        }

        /* Colore di sfondo del bottone al passaggio del mouse */
        button:hover {
            background-color: #00e0e0; /* Colore più chiaro al passaggio del mouse */
        }

        /* Messaggio di errore in rosso */
        .error {
            color: #ff0000; /* Colore rosso per gli errori */
            font-size: 14px; /* Dimensione piccola per il messaggio di errore */
            margin-bottom: 10px; /* Spazio sotto il messaggio di errore */
        }

        /* Stile per i link */
        a {
            color: #00cfcf; /* Colore verde acqua per i link */
            text-decoration: none; /* Rimuove la sottolineatura dai link */
        }

        /* Cambia l'aspetto del link al passaggio del mouse */
        a:hover {
            text-decoration: underline; /* Aggiunge sottolineatura al passaggio del mouse */
        }
    </style>
</head>

<body>

    <!-- Contenitore principale per il modulo di registrazione -->
    <div class="container">
        <h1>Registrazione</h1>

        <!-- Form di registrazione -->
        <form id="registerForm">
            <div class="error" id="errorMessage"></div> <!-- Spazio per visualizzare i messaggi di errore -->

            <!-- Campo per il nome utente -->
            <label for="username">Nome Utente:</label>
            <input type="text" id="username" name="username" required placeholder="Inserisci il tuo nome utente">

            <!-- Campo per l'email -->
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required placeholder="Inserisci la tua email">

            <!-- Campo per la password -->
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required placeholder="Inserisci la tua password">

            <!-- Campo per la conferma della password -->
            <label for="confirmPassword">Conferma Password:</label>
            <input type="password" id="confirmPassword" name="confirmPassword" required placeholder="Conferma la tua password">

            <!-- Bottone per inviare il modulo -->
            <button type="submit">Registrati</button>
        </form>

        <!-- Link per accedere se si ha già un account -->
        <p style="margin-top: 15px;">Hai già un account? <a href="login.html">Accedi</a></p>
    </div>

    <!-- Script per la validazione del form -->
    <script>
        // Aggiunge un evento per l'invio del form
        document.getElementById('registerForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Previene l'invio del form e il ricaricamento della pagina

            // Ottiene i valori dai campi del form
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const errorMessage = document.getElementById('errorMessage'); // Riferimento per il messaggio di errore

            // Verifica che tutti i campi siano riempiti
            if (username === '' || email === '' || password === '' || confirmPassword === '') {
                errorMessage.textContent = 'Tutti i campi sono obbligatori.'; // Mostra errore se ci sono campi vuoti
                return;
            }

            // Verifica che le password corrispondano
            if (password !== confirmPassword) {
                errorMessage.textContent = 'Le password non corrispondono.'; // Mostra errore se le password non corrispondono
                return;
            }

            // Recupera gli utenti esistenti dal localStorage o crea un array vuoto se non ci sono
            let users = JSON.parse(localStorage.getItem('users')) || [];

            // Verifica se l'email è già registrata
            if (users.some(user => user.email === email)) {
                errorMessage.textContent = 'Questa email è già registrata.'; // Mostra errore se l'email è già presente
                return;
            }

            // Crea un nuovo oggetto utente
