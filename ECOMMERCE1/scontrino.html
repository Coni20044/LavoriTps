<!DOCTYPE html>
<html lang="it">
<head>
  <!-- Definisce la codifica dei caratteri come UTF-8 -->
  <meta charset="UTF-8">

  <!-- Imposta la larghezza del viewport per dispositivi mobili -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Titolo della pagina che verrà mostrato nella barra del browser -->
  <title>Scontrino di Vendita - Synth-etizzatti</title>

  <!-- Link al font 'Orbitron' da Google Fonts per un design futuristico -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    /* Resetta margini e padding di tutti gli elementi */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Stili per il corpo della pagina */
    body {
      font-family: 'Orbitron', sans-serif; /* Imposta il font */
      background-color: #2c2c2c; /* Colore di sfondo scuro */
      color: #f0f0f0; /* Colore del testo chiaro */
      display: flex;
      flex-direction: column;
      min-height: 100vh; /* Assicura che la pagina occupi almeno tutta l'altezza dello schermo */
    }

    /* Stile per l'intestazione */
    header {
      background-color: #333333; /* Colore scuro per l'intestazione */
      color: #C2f8CB; /* Verde chiaro per il testo */
      padding: 20px; /* Padding interno */
      display: flex; /* Usa flexbox per l'allineamento */
      justify-content: space-between; /* Distribuisce gli elementi */
      align-items: center; /* Centra gli elementi verticalmente */
      font-size: 26px; /* Imposta la dimensione del testo */
      font-weight: 700; /* Rende il testo più spesso */
    }

    /* Stile per il titolo principale */
    header h1 {
      margin: 0; /* Rimuove il margine di default */
      font-size: 32px; /* Imposta la dimensione del titolo */
    }

    /* Stile per la barra di navigazione */
    nav {
      display: flex; /* Usa flexbox per allineare i bottoni */
      gap: 15px; /* Distanza tra i bottoni */
    }

    /* Stile per i bottoni di navigazione */
    nav button {
      background-color: #8367C7; /* Colore viola per i bottoni */
      color: #2c2c2c; /* Colore scuro per il testo */
      padding: 10px 18px; /* Padding interno */
      border: none; /* Rimuove il bordo */
      border-radius: 5px; /* Arrotonda gli angoli */
      cursor: pointer; /* Cambia il cursore quando si passa sopra */
      font-size: 14px; /* Imposta la dimensione del testo */
      margin-left: 10px; /* Distanza a sinistra */
      transition: all 0.3s ease; /* Aggiunge una transizione per gli effetti di hover */
    }

    /* Effetto hover per i bottoni di navigazione */
    nav button:hover {
      background-color: #6f4db8; /* Colore più scuro al passaggio del mouse */
      transform: scale(1.05); /* Aumenta leggermente la dimensione */
    }

    /* Stile per la sezione principale */
    main {
      background-color: #1a1a1a; /* Colore scuro di sfondo per il main */
      padding: 40px; /* Padding interno */
      display: flex;
      justify-content: center; /* Centra gli elementi orizzontalmente */
      align-items: center; /* Centra gli elementi verticalmente */
      flex-direction: column; /* Organizza gli elementi in colonna */
    }

    /* Contenitore per lo scontrino */
    .receipt-container {
      background-color: #424242; /* Colore di sfondo scuro per il contenitore */
      padding: 30px; /* Padding interno */
      border-radius: 10px; /* Angoli arrotondati */
      width: 100%;
      max-width: 500px; /* Larghezza massima */
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5); /* Ombra per un effetto 3D */
      font-size: 16px; /* Imposta la dimensione del testo */
    }

    /* Stile per l'intestazione dello scontrino */
    .receipt-header {
      text-align: center; /* Centra il testo */
      color: #8367C7; /* Colore verde chiaro */
      margin-bottom: 20px; /* Distanza inferiore */
    }

    /* Stile per la lista degli articoli nello scontrino */
    .receipt-items {
      margin-bottom: 20px;
      border-top: 1px solid #333; /* Linea sopra gli articoli */
      border-bottom: 1px solid #333; /* Linea sotto gli articoli */
      padding: 10px 0; /* Padding sopra e sotto */
    }

    /* Stile per ogni articolo nello scontrino */
    .receipt-item {
      display: flex; /* Usa flexbox per allineare gli articoli */
      justify-content: space-between; /* Spazia gli elementi tra loro */
      margin: 5px 0; /* Margine tra gli articoli */
    }

    /* Stile per il totale dello scontrino */
    .receipt-total {
      display: flex;
      justify-content: space-between; /* Spazia gli elementi tra loro */
      font-weight: bold; /* Rende il testo in grassetto */
      margin-top: 15px; /* Distanza sopra */
    }

    /* Stile per il bottone che porta alla home */
    .back-button {
      background-color: #8367C7; /* Colore viola per il bottone */
      color: #2c2c2c; /* Colore scuro per il testo */
      padding: 10px 18px; /* Padding interno */
      border: none; /* Rimuove il bordo */
      border-radius: 5px; /* Angoli arrotondati */
      font-size: 16px; /* Imposta la dimensione del testo */
      cursor: pointer; /* Cambia il cursore quando ci si passa sopra */
      margin-top: 20px; /* Distanza superiore */
      transition: background-color 0.3s; /* Transizione per il colore di sfondo */
    }

    /* Effetto hover per il bottone di ritorno */
    .back-button:hover {
      background-color: #6f4db8; /* Colore più scuro al passaggio del mouse */
      transform: scale(1.05); /* Aumenta leggermente la dimensione */
    }

    /* Stile per il footer */
    footer {
      background-color: #2c2c2c; /* Colore scuro per il footer */
      color: #aaa; /* Colore chiaro per il testo */
      font-size: 14px; /* Dimensione del testo */
      padding: 20px; /* Padding interno */
      text-align: center; /* Centra il testo */
      margin-top: auto; /* Spinge il footer in fondo alla pagina */
    }
  </style>
</head>
<body>

<!-- Intestazione con il logo e la barra di navigazione -->
<header>
  <h1>Synth-etizzatti</h1>
  <nav>
    <button onclick="window.location.href='index.html'">Home</button>
    <button onclick="window.location.href='carrello.html'">Carrello</button>
    <button onclick="window.location.href='contatti.html'">Contatti</button>
  </nav>
</header>

<!-- Sezione principale dove viene visualizzato lo scontrino -->
<main>
  <div class="receipt-container">
    <!-- Intestazione dello scontrino -->
    <div class="receipt-header">
      <h2>Scontrino di Vendita</h2>
      <p>Grazie per aver acquistato da Synth-etizzatti!</p>
    </div>

    <!-- Lista degli articoli acquistati -->
    <div id="receiptItems" class="receipt-items"></div>

    <!-- Totale dello scontrino -->
    <div class="receipt-total">
      <span>Totale</span>
      <span id="totalPrice">€ 0,00</span>
    </div>

    <!-- IVA (22%) -->
    <div class="receipt-total">
      <span>IVA (22%)</span>
      <span id="ivaAmount">€ 0,00</span>
    </div>

    <!-- Totale da pagare -->
    <div class="receipt-total">
      <span><strong>Totale da pagare</strong></span>
      <span id="grandTotal"><strong>€ 0,00</strong></span>
    </div>

    <!-- Bottone per tornare alla Home -->
    <button class="back-button" onclick="window.location.href='index.html'">Torna alla Home</button>
  </div>
</main>

<!-- Footer con informazioni legali -->
<footer>
  &copy; 2025 Synth-etizzatti. Tutti i diritti riservati | P.IVA 01234567890
</footer>

<script>
  // Si attiva quando la pagina è completamente caricata
  document.addEventListener("DOMContentLoaded", () => {
    // Recupera il carrello dal localStorage o un array vuoto se non c'è nulla
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const receiptItems = document.getElementById("receiptItems");
    const totalPriceEl = document.getElementById("totalPrice");
    const ivaAmountEl = document.getElementById("ivaAmount");
    const grandTotalEl = document.getElementById("grandTotal");

    let total = 0;

    // Cicla attraverso gli articoli nel carrello per visualizzarli
    cart.forEach(product => {
      const price = parseFloat(product.price.replace("€", "").replace(",", ".").trim()); // Elimina simboli e converte in numero
      if (!isNaN(price)) total += price; // Somma i prezzi

      const itemEl = document.createElement("div");
      itemEl.className = "receipt-item"; // Aggiungi classe per ogni articolo
      itemEl.innerHTML = `<span>${product.name}</span><span>${product.price}</span>`; // Mostra nome e prezzo
      receiptItems.appendChild(itemEl);
    });

    // Calcola l'IVA (22%)
    const iva = total * 0.22;
    const grandTotal = total + iva;

    // Visualizza il totale, IVA e totale da pagare
    totalPriceEl.textContent = `€ ${total.toFixed(2).replace(".", ",")}`;
    ivaAmountEl.textContent = `€ ${iva.toFixed(2).replace(".", ",")}`;
    grandTotalEl.innerHTML = `<strong>€ ${grandTotal.toFixed(2).replace(".", ",")}</strong>`;

    // Svuota il carrello dopo aver mostrato lo scontrino
    localStorage.removeItem("cart");
  });
</script>

</body>
</html>
