<!DOCTYPE html> <!-- Dichiara il tipo di documento HTML5 -->
<html lang="it"> <!-- Inizio del documento HTML con lingua italiana -->

<head>
  <meta charset="UTF-8" /> <!-- Imposta la codifica dei caratteri a UTF-8 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <!-- Rende la pagina responsive -->
  <title>Accesso - SYNTH-ETIZZATI</title> <!-- Titolo della pagina nella scheda del browser -->

  <!-- Importa il font Orbitron da Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    /* Applica il box-sizing a tutti gli elementi per includere padding e bordo nel calcolo della dimensione */
    * {
      box-sizing: border-box;
    }

    /* Imposta stile globale di html e body */
    html, body {
      height: 100%; /* Occupa l'intera altezza della finestra */
      margin: 0; /* Rimuove margini di default */
      padding: 0; /* Rimuove padding di default */
      font-family: 'Orbitron', sans-serif; /* Imposta il font Orbitron */
      background-color: #111; /* Sfondo scuro */
      color: #fff; /* Colore del testo bianco */
      display: flex; /* Usa Flexbox */
      justify-content: center; /* Centra orizzontalmente */
      align-items: center; /* Centra verticalmente */
    }

    /* Contenitore del modulo di login */
    .container {
      background-color: #222; /* Sfondo grigio scuro */
      padding: 40px; /* Spaziatura interna */
      border-radius: 10px; /* Angoli arrotondati */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Ombra */
      width: 100%; /* Occupa tutta la larghezza disponibile */
      max-width: 420px; /* Larghezza massima */
      text-align: center; /* Centra il testo */
      border: 2px solid #0bb86f; /* Bordo verde fluorescente */
    }

    /* Titolo */
    h1 {
      color: #0bb86f; /* Colore verde */
      margin-bottom: 30px; /* Spazio sotto */
      font-size: 28px; /* Dimensione del font */
      font-weight: bold; /* Grassetto */
    }

    /* Etichette dei campi */
    label {
      display: block; /* Elemento a blocco */
      margin: 15px 0 5px; /* Spazio sopra e sotto */
      font-size: 18px; /* Dimensione testo */
    }

    /* Campi input */
    input {
      width: 100%; /* Occupa tutta la larghezza del contenitore */
      padding: 15px; /* Spaziatura interna */
      margin-bottom: 20px; /* Spazio sotto */
      border: 2px solid #0bb86f; /* Bordo verde */
      border-radius: 5px; /* Angoli arrotondati */
      background-color: #333; /* Sfondo grigio scuro */
      color: #fff; /* Testo bianco */
      font-size: 16px; /* Dimensione font */
    }

    /* Stile input quando in focus */
    input:focus {
      border-color: #0bb86f; /* Mantiene il bordo verde */
      outline: none; /* Rimuove bordo blu predefinito */
    }

    /* Bottone di invio */
    button {
      width: 100%; /* Larghezza piena */
      padding: 15px; /* Spaziatura interna */
      background-color: #0bb86f; /* Sfondo verde */
      color: #fff; /* Testo bianco */
      font-size: 18px; /* Font grande */
      border: none; /* Nessun bordo */
      border-radius: 5px; /* Angoli arrotondati */
      cursor: pointer; /* Mostra mano al passaggio del mouse */
      transition: background-color 0.3s; /* Animazione transizione */
    }

    /* Bottone al passaggio del mouse */
    button:hover {
      background-color: #0aa25f; /* Cambia leggermente il colore */
    }

    /* Messaggio di errore */
    .error {
      color: #ff0000; /* Rosso */
      font-size: 14px; /* Font piccolo */
      margin-bottom: 10px; /* Spazio sotto */
    }

    /* Link alla registrazione */
    .registration-link {
      display: block; /* Elemento a blocco */
      color: #0bb86f; /* Verde */
      font-size: 16px; /* Dimensione font */
      margin-top: 15px; /* Spazio sopra */
      text-decoration: none; /* Nessuna sottolineatura */
      font-weight: bold; /* Grassetto */
    }

    /* Link al passaggio del mouse */
    .registration-link:hover {
      color: #0aa25f; /* Cambia colore */
    }
  </style>
</head>

<body>
  <!-- Contenitore del form -->
  <div class="container">
    <h1>Esegui l'accesso a SYNTH-ETIZZATI</h1>

    <!-- Form di login -->
    <form id="loginForm">
      <!-- Messaggio di errore (inizialmente vuoto) -->
      <div class="error" id="errorMessage"></div>

      <!-- Campo email -->
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required placeholder="Inserisci la tua email">

      <!-- Campo password -->
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required placeholder="Inserisci la tua password">

      <!-- Bottone per accedere -->
      <button type="submit">Accedi</button>
    </form>

    <!-- Link alla registrazione -->
    <a href="registrazione.html" class="registration-link">Non hai un account? Registrati per ottenere il tuo sintetizzatore!</a>
  </div>

  <!-- Script JavaScript per la validazione del form -->
  <script>
    // Aggiunge un gestore all'invio del form
    document.getElementById('loginForm').addEventListener('submit', function (event) {
      event.preventDefault(); // Previene l'invio classico del form

      // Ottiene i valori dei campi
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const errorMessage = document.getElementById('errorMessage');

      // Recupera gli utenti registrati dal localStorage
      const users = JSON.parse(localStorage.getItem('users')) || [];

      // Verifica se l'email e la password corrispondono a un utente esistente
      const user = users.find(u => u.email === email && u.password === password);

      if (!user) {
        errorMessage.textContent = 'Email o password errati.'; // Mostra errore se l'utente non esiste
        return; // Interrompe l'esecuzione
      }

      // Simula un login riuscito
      console.log('Accesso riuscito:', { email, password }); // Log nel console
      alert('Accesso riuscito! Verrai reindirizzato alla home.'); // Messaggio all'utente

      // Reindirizza alla home page
      window.location.href = 'index.html';
    });
  </script>
</body>

</html>
